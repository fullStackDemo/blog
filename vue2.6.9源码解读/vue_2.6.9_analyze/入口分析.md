>入口文件就是`vue`的主文件，这里`exprot default Vue` 导出一个 `Vue constructor` 构造函数。

	import Vue from './instance/index'
	import { initGlobalAPI } from './global-api/index'
	import { isServerRendering } from 'core/util/env'
	import { FunctionalRenderContext } from 'core/vdom/create-functional-component'
	
	initGlobalAPI(Vue)
	
	Object.defineProperty(Vue.prototype, '$isServer', {
	  get: isServerRendering
	})
	
	Object.defineProperty(Vue.prototype, '$ssrContext', {
	  get () {
	    /* istanbul ignore next */
	    return this.$vnode && this.$vnode.ssrContext
	  }
	})
	
	// expose FunctionalRenderContext for ssr runtime helper installation
	Object.defineProperty(Vue, 'FunctionalRenderContext', {
	  value: FunctionalRenderContext
	})
	
	Vue.version = '__VERSION__'
	
	export default Vue


>当你在浏览器控制台打印 `console.log(Vue.prototype)`, 大概会看到Vue的所有方法属性：

![](./images/vue_prototype.png)

>入口文件这里引用了 `src/core/instance/index` vue 接口， init全局的方法，定义`$isServer`、`$ssrContext `、`$FunctionalRenderContext `等关于服务端渲染的ssr属性。

接下来让我们看看 `./instance/index` vue的原本构造函数是什么样子的：

	import { initMixin } from './init'
	import { stateMixin } from './state'
	import { renderMixin } from './render'
	import { eventsMixin } from './events'
	import { lifecycleMixin } from './lifecycle'
	import { warn } from '../util/index'
	
	//注意：这里声明 只能使用 `new Vue(）`去调用，否则触发警告
	function Vue (options) {
	  if (process.env.NODE_ENV !== 'production' &&
	    !(this instanceof Vue)
	  ) {
	    warn('Vue is a constructor and should be called with the `new` keyword')
	  }
	  this._init(options)
	}
	
	//构造函数调用的 this._init(options) 来源于此
	initMixin(Vue)
	
	//这里定义了 $set $delete $watch 并且声明$props readOnly, $data不能在root被替换
	stateMixin(Vue)
	
	//Event: $on $off $once $emit
	eventsMixin(Vue)
	
	//生命周期方法 _update $forceUpdate $destory
	lifecycleMixin(Vue)
	
	//
	renderMixin(Vue)
	
	export default Vue







